<div class="view">
	<%= dl 'Top', o.margin_top ? "#{o.margin_top}\"" : '' %>
	<%= dl 'Bottom', o.margin_bottom ? "#{o.margin_bottom}\"" : '' %>
	<%= dl 'Left', o.margin_left ? "#{o.margin_left}\"" : '' %>
	<%= dl 'Right', o.margin_right ? "#{o.margin_right}\"" : '' %>
</div>
<style>
	#preview-dd:after { content: ''; } 
</style>
<div class="view" style="overflow: visible;">
	<dl>
		<dt>Preview</dt>
		<dd id="preview-dd">
			<div style="box-shadow: 0 0 5px rgba(0, 0, 0, 0.4); border-radius: 3px;"><iframe id="preview" style="width: 8.5in; overflow: hidden; padding: 0; margin: 0;"></iframe></div>
		</dd>
	</dl>
	<div class="clear"></div>
</div>
<script>
	var preview_html = <%= ApplicationController.render(layout: 'generated', template: 'doc_templates/generated', assigns: {obj: @obj, fmt: 'html'}).to_json.html_safe %>;
	var preview = $('#preview');
	var doc = preview[0].contentDocument || preview.contentWindow.document;
	doc.write(preview_html);
	doc.close();
	$(function() {
		preview[0].height = doc.body.scrollHeight;
	});
</script>